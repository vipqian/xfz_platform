function AddTeacher(){}AddTeacher.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},AddTeacher.prototype.listenQnUploadFileEvent=function(){var i=this,e=$("#thumbnail-btn");e.change(function(){var a=e[0].files[0];xfzajax.get({url:"/cms/qntoken",success:function(e){if(200===e.code){var t=e.data.token,o=(new Date).getTime()+"."+a.name.split(".")[1],r={fname:o,params:{},mimeType:["image/png","video/x-ms-wmv","image/jpeg"]},n={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(a,o,t,r,n).subscribe({next:i.updateUploadProgress,error:i.uploadErrorEvent,complete:i.complateUploadEvent})}}})})},AddTeacher.prototype.updateUploadProgress=function(e){var t=e.total.percent;AddTeacher.progressGroup.show();var o=$(".progress-bar"),r=t.toFixed(0)+"%";o.css({width:r}),o.text(r)},AddTeacher.prototype.uploadErrorEvent=function(e){AddTeacher.progressGroup.hide(),"file type doesn't match with what you specify"===e.message&&window.messageBox.show("上传的文件不匹配")},AddTeacher.prototype.complateUploadEvent=function(e){AddTeacher.progressGroup.hide();var t=$(".progress-bar");t.css({width:0}),t.text("0%");var o="http://ps9lpfh8q.bkt.clouddn.com/"+e.key;$("#thumbnail-form").val(o)},AddTeacher.prototype.listenSumbitEvent=function(){$("#sub-btn").click(function(e){e.preventDefault();var t=$("input[name='name']").val(),o=$("input[name='jobtitle']").val(),r=$("input[name='avatar']").val(),n=window.ue.getContent();console.log(t,o,r,n),xfzajax.post({url:"/cms/add_teacher/",data:{name:t,jobtitle:o,avatar:r,profile:n},success:function(e){if(console.log(e),200===e.code)window.messageBox.show("发布成功"),setTimeout(function(){window.location.href="http://129.28.158.195:8000/cms/teacher_list/"},3e3);else{var t=e.message;if("string"==typeof t||"String"==t.constructor)window.messageBox.show(e.message);else for(var o in t){var r=t[o][0];window.messageBox.show(r)}}}})})},AddTeacher.prototype.run=function(){this.initUEditor(),this.listenQnUploadFileEvent(),this.listenSumbitEvent()},$(function(){(new AddTeacher).run(),AddTeacher.progressGroup=$("#progress-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZF90ZWFjaGVyLmpzIl0sIm5hbWVzIjpbIkFkZFRlYWNoZXIiLCJwcm90b3R5cGUiLCJpbml0VUVkaXRvciIsIndpbmRvdyIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJzZXJ2ZXJVcmwiLCJsaXN0ZW5RblVwbG9hZEZpbGVFdmVudCIsInNlbGYiLCJ0aGlzIiwidXBsb2FkQnRuIiwiJCIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJrZXkiLCJEYXRlIiwiZ2V0VGltZSIsIm5hbWUiLCJzcGxpdCIsInB1dEV4dHJhIiwiZm5hbWUiLCJwYXJhbXMiLCJtaW1lVHlwZSIsImNvbmZpZyIsInVzZUNkbkRvbWFpbiIsInJldHJ5Q291bnQiLCJyZWdpb24iLCJxaW5pdSIsInoyIiwidXBsb2FkIiwic3Vic2NyaWJlIiwibmV4dCIsInVwZGF0ZVVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJ1cGxvYWRFcnJvckV2ZW50IiwiY29tcGxldGUiLCJjb21wbGF0ZVVwbG9hZEV2ZW50IiwicmVzcG9uc2UiLCJwZXJjZW50IiwidG90YWwiLCJwcm9ncmVzc0dyb3VwIiwic2hvdyIsInByb2dyZXNzQmFyIiwicHJvZ3Jlc3NUZXh0IiwidG9GaXhlZCIsImNzcyIsIndpZHRoIiwidGV4dCIsImhpZGUiLCJtZXNzYWdlIiwibWVzc2FnZUJveCIsImltZ1VybCIsInZhbCIsImxpc3RlblN1bWJpdEV2ZW50IiwiY2xpY2siLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwiam9idGl0bGUiLCJhdmF0YXIiLCJjb250ZW50IiwiZ2V0Q29udGVudCIsImNvbnNvbGUiLCJsb2ciLCJwb3N0IiwiZGF0YSIsInByb2ZpbGUiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJocmVmIiwibWVzc2FnZU9iamVjdCIsImNvbnN0cnVjdG9yIiwicnVuIl0sIm1hcHBpbmdz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QkFJVGpELEVBQUUsWUFDbUIsSUFBSWIsWUFDVmdGLE1BQ1hoRixXQUFXaUQsY0FBZ0JwQyxFQUFFIiwiZmlsZSI6ImFkZF90ZWFjaGVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZnVuY3Rpb24gQWRkVGVhY2hlcigpIHtcblxufVxuXG5cbkFkZFRlYWNoZXIucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJyx7XG4gICAgICAgIC8vIOe8lui+keWZqOmrmOW6plxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogNDAwLFxuICAgICAgICAvLyDkvb/nlKjlm77niYfkuIrkvKBcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJ1xuICAgIH0pO1xufTtcblxuQWRkVGVhY2hlci5wcm90b3R5cGUubGlzdGVuUW5VcGxvYWRGaWxlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB1cGxvYWRCdG4gPSAkKCcjdGh1bWJuYWlsLWJ0bicpO1xuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xuICAgICAgICAgICAgJ3VybCc6ICcvY21zL3FudG9rZW4nLFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgKyAnLicgKyBmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5paH5Lu25ZCNXG4gICAgICAgICAgICAgICAgICAgICAgICBmbmFtZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YW25LuW5Y+C5pWwXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g6ZmQ5Yi255qE5paH5Lu257G75Z6LXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogWydpbWFnZS9wbmcnLCd2aWRlby94LW1zLXdtdicsJ2ltYWdlL2pwZWcnXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5piv5ZCm5Yqg6YCfXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VDZG5Eb21haW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlpLHotKXlkI7ku47mlrDkuIrkvKDnmoTmrKHmlbBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDkuIPniZvlnLDljLpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcWluaXUucmVnaW9uLnoyXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gcWluaXUudXBsb2FkKGZpbGUsIGtleSwgdG9rZW4sIHB1dEV4dHJhLGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOaWh+S7tui/h+eoi+S4reWRiuivieS9oOS4iuS8oOWkmuWwkVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuZXh0XCI6c2VsZi51cGRhdGVVcGxvYWRQcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOaWh+S7tuWHuueOsOmUmeivr1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvclwiOnNlbGYudXBsb2FkRXJyb3JFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaWh+S7tuS4iuS8oOaIkOWKn+eahOWbnuiwg+WHveaVsFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb21wbGV0ZVwiOiBzZWxmLmNvbXBsYXRlVXBsb2FkRXZlbnRcbiAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn07XG5cbkFkZFRlYWNoZXIucHJvdG90eXBlLnVwZGF0ZVVwbG9hZFByb2dyZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgLy8g5LiK5Lyg6L+H56iL5Lit5YGa55qE5LqL5oOFXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB0b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuICAgIHZhciBwZXJjZW50ID0gdG90YWwucGVyY2VudDtcbiAgICB2YXIgcHJvZ3Jlc3NHcm91cCA9IEFkZFRlYWNoZXIucHJvZ3Jlc3NHcm91cDtcbiAgICBwcm9ncmVzc0dyb3VwLnNob3coKTtcbiAgICB2YXIgcHJvZ3Jlc3NCYXIgPSAkKCcucHJvZ3Jlc3MtYmFyJyk7XG4gICAgdmFyIHByb2dyZXNzVGV4dCA9IHBlcmNlbnQudG9GaXhlZCgwKSArICclJztcbiAgICBwcm9ncmVzc0Jhci5jc3Moeyd3aWR0aCc6IHByb2dyZXNzVGV4dH0pO1xuICAgIHByb2dyZXNzQmFyLnRleHQocHJvZ3Jlc3NUZXh0KTtcblxufTtcblxuQWRkVGVhY2hlci5wcm90b3R5cGUudXBsb2FkRXJyb3JFdmVudCA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gQWRkVGVhY2hlci5wcm9ncmVzc0dyb3VwO1xuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xuICAgIGlmIChlcnJvci5tZXNzYWdlID09PSAnZmlsZSB0eXBlIGRvZXNuXFwndCBtYXRjaCB3aXRoIHdoYXQgeW91IHNwZWNpZnknKXtcbiAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdygn5LiK5Lyg55qE5paH5Lu25LiN5Yy56YWNJyk7XG4gICAgfVxuXG59O1xuXG5BZGRUZWFjaGVyLnByb3RvdHlwZS5jb21wbGF0ZVVwbG9hZEV2ZW50ID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdmFyIHByb2dyZXNzR3JvdXAgPSBBZGRUZWFjaGVyLnByb2dyZXNzR3JvdXA7XG4gICAgcHJvZ3Jlc3NHcm91cC5oaWRlKCk7XG4gICAgdmFyIHByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xuICAgIHByb2dyZXNzQmFyLmNzcyh7J3dpZHRoJzogMH0pO1xuICAgIHByb2dyZXNzQmFyLnRleHQoJzAlJyk7XG5cbiAgICB2YXIgaW1nVXJsID0gJ2h0dHA6Ly9wczlscGZoOHEuYmt0LmNsb3VkZG4uY29tLycrIHJlc3BvbnNlLmtleTtcbiAgICB2YXIgdGh1bWJuYWlsRnJvbSA9ICQoJyN0aHVtYm5haWwtZm9ybScpO1xuICAgIHRodW1ibmFpbEZyb20udmFsKGltZ1VybCk7XG59O1xuXG5BZGRUZWFjaGVyLnByb3RvdHlwZS5saXN0ZW5TdW1iaXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3ViQnRuID0gJCgnI3N1Yi1idG4nKTtcbiAgICBzdWJCdG4uY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuYW1lID0gJChcImlucHV0W25hbWU9J25hbWUnXVwiKS52YWwoKTtcbiAgICAgICAgdmFyIGpvYnRpdGxlID0gJChcImlucHV0W25hbWU9J2pvYnRpdGxlJ11cIikudmFsKCk7XG4gICAgICAgIHZhciBhdmF0YXIgPSAkKFwiaW5wdXRbbmFtZT0nYXZhdGFyJ11cIikudmFsKCk7XG4gICAgICAgIHZhciBjb250ZW50ID0gd2luZG93LnVlLmdldENvbnRlbnQoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhuYW1lLCBqb2J0aXRsZSwgYXZhdGFyLCBjb250ZW50KTtcblxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xuICAgICAgICAgICAgJ3VybCc6ICcvY21zL2FkZF90ZWFjaGVyLycsXG4gICAgICAgICAgICAnZGF0YSc6IHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6IG5hbWUsXG4gICAgICAgICAgICAgICAgJ2pvYnRpdGxlJzogam9idGl0bGUsXG4gICAgICAgICAgICAgICAgJ2F2YXRhcic6ICBhdmF0YXIsXG4gICAgICAgICAgICAgICAgJ3Byb2ZpbGUnOiBjb250ZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdygn5Y+R5biD5oiQ5YqfJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaHJlZj1cImh0dHA6Ly8xMjkuMjguMTU4LjE5NTo4MDAwL2Ntcy90ZWFjaGVyX2xpc3QvXCI7fSwzMDAwKVxuICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VPYmplY3QgPSByZXN1bHRbJ21lc3NhZ2UnXTtcbiAgICAgICAgICAgICAgICAgICAgLy/liKTmlq3mmK/kuI3mmK/lrZfnrKbkuLJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlT2JqZWN0ID09IFwic3RyaW5nXCIgfHwgbWVzc2FnZU9iamVjdC5jb25zdHJ1Y3RvciA9PSAnU3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdyhyZXN1bHRbJ21lc3NhZ2UnXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbWVzc2FnZU9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IG1lc3NhZ2VPYmplY3Rba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG59O1xuXG5cblxuQWRkVGVhY2hlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaW5pdFVFZGl0b3IoKTtcbiAgICB0aGlzLmxpc3RlblFuVXBsb2FkRmlsZUV2ZW50KCk7XG4gICAgdGhpcy5saXN0ZW5TdW1iaXRFdmVudCgpO1xufTtcblxuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWRkVGVhY2hlciA9IG5ldyBBZGRUZWFjaGVyKCk7XG4gICAgYWRkVGVhY2hlci5ydW4oKTtcbiAgICBBZGRUZWFjaGVyLnByb2dyZXNzR3JvdXAgPSAkKCcjcHJvZ3Jlc3MtZ3JvdXAnKTtcbn0pO1xuIl19
