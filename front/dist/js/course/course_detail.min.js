function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),o=e.attr("data-video-url"),t=e.attr("data-cover-url"),a=e.attr("data-course-id"),r=e.attr("data-course-price");console.log(o),console.log(t),console.log(a),console.log(r);var n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:o,image:t,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"d6d83bc2e0d449ef932514eaec2c0876"});n.on("beforePlay",function(t){/m3u8/.test(t.file)&&xfzajax.get({url:"/course/course_token/",data:{video:o,course_id:a,price:r},success:function(e){if(200===e.code){var o=e.data.token;n.setToken(t.file,o)}else n.stop(),window.messageBox.show(e.message)},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS9jb3Vyc2VfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIkNvdXJzZURldGFpbCIsInByb3RvdHlwZSIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm9TcGFuIiwiJCIsInZpZGVvX3VybCIsImF0dHIiLCJjb3Zlcl91cmwiLCJjb3Vyc2VfaWQiLCJwcmljZSIsImNvbnNvbGUiLCJsb2ciLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJ0b2tlbkVuY3J5cHQiLCJhayIsIm9uIiwiZSIsInRlc3QiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJzdG9wIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3ciLCJmYWlsIiwiZXJyb3IiLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxnQkFHVEEsYUFBYUMsVUFBVUMsV0FBYSxXQUNoQyxJQUFJQyxFQUFnQkMsRUFBRSxlQUNsQkMsRUFBWUYsRUFBY0csS0FBSyxrQkFDL0JDLEVBQVlKLEVBQWNHLEtBQUssa0JBQy9CRSxFQUFZTCxFQUFjRyxLQUFLLGtCQUMvQkcsRUFBUU4sRUFBY0csS0FBSyxxQkFFL0JJLFFBQVFDLElBQUlOLEdBQ1pLLFFBQVFDLElBQUlKLEdBQ1pHLFFBQVFDLElBQUlILEdBQ1pFLFFBQVFDLElBQUlGLEdBSVosSUFBSUcsRUFBU0MsWUFBWSxtQkFBbUJDLE1BQU0sQ0FDMUNDLE1BQU8sT0FDUEMsT0FBUSxPQUNSQyxLQUFNWixFQUNOYSxNQUFPWCxFQUNQWSxXQUFXLEVBQ1hDLFdBQVksVUFDWkMsUUFBUSxFQUNSQyxPQUFRLElBQ1JDLFVBQVUsRUFDVkMsY0FBYyxFQUVkQyxHQUFJLHFDQUdSYixFQUFPYyxHQUFHLGFBQWEsU0FBVUMsR0FDekIsT0FBT0MsS0FBS0QsRUFBRVYsT0FHbEJZLFFBQVFDLElBQUksQ0FDUkMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKQyxNQUFTNUIsRUFDVEcsVUFBYUEsRUFDYkMsTUFBU0EsR0FFYnlCLFFBQVcsU0FBVUMsR0FDakIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBS21CLFFBRXZCeEIsRUFBTzBCLE9BQ1BDLE9BQU9DLFdBQVdDLEtBQUtOLEVBQWdCLFVBSy9DTyxLQUFRLFNBQVVDLEdBQ2RqQyxRQUFRQyxJQUFJZ0MsU0FNaEMzQyxhQUFhQyxVQUFVMkMsSUFBTSxXQUN6QkMsS0FBSzNDLGNBSVRFLEVBQUUsWUFDcUIsSUFBSUosY0FDVjRDIiwiZmlsZSI6ImNvdXJzZS9jb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpIHtcbn1cblxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2aWRlb0luZm9TcGFuID0gJChcIiN2aWRlby1pbmZvXCIpO1xuICAgIHZhciB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcbiAgICB2YXIgY292ZXJfdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS1jb3Zlci11cmxcIik7XG4gICAgdmFyIGNvdXJzZV9pZCA9IHZpZGVvSW5mb1NwYW4uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcbiAgICB2YXIgcHJpY2UgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY291cnNlLXByaWNlJyk7XG5cbiAgICBjb25zb2xlLmxvZyh2aWRlb191cmwpO1xuICAgIGNvbnNvbGUubG9nKGNvdmVyX3VybCk7XG4gICAgY29uc29sZS5sb2coY291cnNlX2lkKTtcbiAgICBjb25zb2xlLmxvZyhwcmljZSk7XG5cblxuXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgIGZpbGU6IHZpZGVvX3VybCxcbiAgICAgICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXG4gICAgICAgICAgICBhdXRvc3RhcnQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXG4gICAgICAgICAgICByZXBlYXQ6IGZhbHNlLFxuICAgICAgICAgICAgdm9sdW1lOiAxMDAsXG4gICAgICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIEFjY2Vzc0tleVxuICAgICAgICAgICAgYWs6ICdkNmQ4M2JjMmUwZDQ0OWVmOTMyNTE0ZWFlYzJjMDg3NidcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JyxmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYoIS9tM3U4Ly50ZXN0KGUuZmlsZSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhmemFqYXguZ2V0KHtcbiAgICAgICAgICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvX3VybCxcbiAgICAgICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgJ3ByaWNlJzogcHJpY2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSx0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cocmVzdWx0WydtZXNzYWdlJ10pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbn07XG5cbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaW5pdFBsYXllcigpO1xufTtcblxuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xuICAgIGNvdXJzZURldGFpbC5ydW4oKTtcbn0pO1xuIl19
